Designing a fluid simulator with VFX production pipelines in mind is a difficult task where goals like efficiency, robustness and scalability compromise each other. Many impressive fluid simulation methods have been presented in research papers before, but often they do not meet the production and flexibility demands of artists working on actual VFX production pipelines. In this paper we present a particle-based fluid simulation framework, based on the well known Position-Based Fluids (PBF) method, designed to address VFX production demands. Our framework puts special care on data structure design and implementation details. It highlights cache-efficient GPU-friendly data structures, an improved Z-index sort spatial voxelization technique, tuned-up simulation algorithms, and collision treatment based on VDB fields. Altogether, they empower the artist with a very efficient fluid solver, but also with the robustness and versatility needed for simulating very diverse scenes and effects.